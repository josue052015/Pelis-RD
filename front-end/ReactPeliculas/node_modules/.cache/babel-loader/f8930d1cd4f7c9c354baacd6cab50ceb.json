{"ast":null,"code":"import _regeneratorRuntime from \"F:/Pelis-RD/front-end/ReactPeliculas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"F:/Pelis-RD/front-end/ReactPeliculas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"F:/Pelis-RD/front-end/ReactPeliculas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"F:\\\\Pelis-RD\\\\front-end\\\\ReactPeliculas\\\\src\\\\generos\\\\EditarGenero.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { useHistory } from \"react-router-dom\";\nimport Cargando from \"../peliculas/utilidades/Cargando\";\nimport { urlGeneros } from \"../peliculas/utilidades/endPoints\";\nimport ShowErrorList from \"../peliculas/utilidades/ShowErrorList\";\nimport FormularioGeneros from \"./FormularioGeneros\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EditarGenero() {\n  _s();\n\n  var _useParams = useParams(),\n      id = _useParams.id; // esto es un react hook para obtener la variable de ruta\n\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      gender = _useState2[0],\n      setGender = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var history = useHistory();\n  useEffect(function () {\n    axios.get(\"\".concat(urlGeneros, \"/\").concat(id)).then(function (response) {\n      setGender(response.data);\n    });\n  });\n\n  function editGender(_x) {\n    return _editGender.apply(this, arguments);\n  }\n\n  function _editGender() {\n    _editGender = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(gender) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              try {\n                axios.put(\"\".concat(urlGeneros, \"/\").concat(id), gender);\n              } catch (error) {\n                setErrors(error.response.data);\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _editGender.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Editar g\\xE9nero\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShowErrorList, {\n      errors: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), gender ? /*#__PURE__*/_jsxDEV(FormularioGeneros, {\n      model: {\n        name: \"Valor por defecto\"\n      },\n      onSubmit: /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return editGender(values);\n\n                case 2:\n                  history.push(\"/generos\");\n\n                case 3:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x2) {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Cargando, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 12\n    }, this)]\n  }, void 0, true);\n}\n\n_s(EditarGenero, \"MesP5V5KilgTibS6Z+jjNtStH1k=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = EditarGenero;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditarGenero\");","map":{"version":3,"sources":["F:/Pelis-RD/front-end/ReactPeliculas/src/generos/EditarGenero.tsx"],"names":["axios","useEffect","useState","useParams","useHistory","Cargando","urlGeneros","ShowErrorList","FormularioGeneros","EditarGenero","id","gender","setGender","errors","setErrors","history","get","then","response","data","editGender","put","error","name","values","push"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAqC,OAArC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;;;AAGA,eAAe,SAASC,YAAT,GAAwB;AAAA;;AACrC,mBAAoBN,SAAS,EAA7B;AAAA,MAAQO,EAAR,cAAQA,EAAR,CADqC,CACL;;;AAChC,kBAA4BR,QAAQ,EAApC;AAAA;AAAA,MAAOS,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAA4BV,QAAQ,CAAW,EAAX,CAApC;AAAA;AAAA,MAAOW,MAAP;AAAA,MAAeC,SAAf;;AACF,MAAMC,OAAO,GAAGX,UAAU,EAA1B;AAEEH,EAAAA,SAAS,CAAC,YAAM;AACdD,IAAAA,KAAK,CAACgB,GAAN,WAAaV,UAAb,cAA2BI,EAA3B,GACCO,IADD,CACM,UAACC,QAAD,EAA2C;AAC/CN,MAAAA,SAAS,CAACM,QAAQ,CAACC,IAAV,CAAT;AACD,KAHD;AAID,GALQ,CAAT;;AANqC,WAatBC,UAbsB;AAAA;AAAA;;AAAA;AAAA,2EAarC,kBAA0BT,MAA1B;AAAA;AAAA;AAAA;AAAA;AACE,kBAAG;AACDX,gBAAAA,KAAK,CAACqB,GAAN,WAAaf,UAAb,cAA2BI,EAA3B,GAAiCC,MAAjC;AACD,eAFD,CAGA,OAAMW,KAAN,EAAY;AACVR,gBAAAA,SAAS,CAACQ,KAAK,CAACJ,QAAN,CAAeC,IAAhB,CAAT;AACD;;AANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAbqC;AAAA;AAAA;;AAqBrC,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,aAAD;AAAe,MAAA,MAAM,EAAIN;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGF,MAAM,gBAAG,QAAC,iBAAD;AAAmB,MAAA,KAAK,EAAE;AAAEY,QAAAA,IAAI,EAAE;AAAR,OAA1B;AACR,MAAA,QAAQ;AAAA,4EAAE,iBAAMC,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACJJ,UAAU,CAACI,MAAD,CADN;;AAAA;AAEVT,kBAAAA,OAAO,CAACU,IAAR,CAAa,UAAb;;AAFU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAF;;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAAH,gBAKF,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YARP;AAAA,kBADF;AAiBD;;GAtCuBhB,Y;UACFN,S,EAGNC,U;;;KAJQK,Y","sourcesContent":["import axios, { AxiosResponse } from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cargando from \"../peliculas/utilidades/Cargando\";\r\nimport { urlGeneros } from \"../peliculas/utilidades/endPoints\";\r\nimport ShowErrorList from \"../peliculas/utilidades/ShowErrorList\";\r\nimport FormularioGeneros from \"./FormularioGeneros\";\r\nimport { genderDTO, genderListDTO } from \"./generos.model\";\r\n\r\nexport default function EditarGenero() {\r\n  const { id }: any = useParams();// esto es un react hook para obtener la variable de ruta\r\n  const [gender, setGender] = useState<genderListDTO>();\r\n  const [errors, setErrors] = useState<string[]>([]);\r\nconst history = useHistory();\r\n\r\n  useEffect(() => {\r\n    axios.get(`${urlGeneros}/${id}`)\r\n    .then((response: AxiosResponse<genderListDTO>) =>{\r\n      setGender(response.data);\r\n    })\r\n  })\r\n\r\n  async function editGender(gender:genderDTO) {\r\n    try{\r\n      axios.put(`${urlGeneros}/${id}`, gender);\r\n    }\r\n    catch(error){\r\n      setErrors(error.response.data);\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <h1>Editar g√©nero</h1>\r\n      <ShowErrorList errors = {errors}/>\r\n      {gender ? <FormularioGeneros model={{ name: \"Valor por defecto\" }}\r\n        onSubmit={async values => {\r\n        await editGender(values);\r\n        history.push(\"/generos\")\r\n        }}\r\n      /> : <Cargando/>}\r\n      \r\n\r\n\r\n      {/*         <h5>La variable es {id} </h5>  */}\r\n    </>\r\n\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}